##  Mê³¼N (LinkedHashSet)

**ë°±íŠ¸ë˜í‚¹ (Backtracking) ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•œ ìˆœì—´ ìƒì„± ë¬¸ì œ**ë¥¼ í•´ê²°
`N`ê°œì˜ ìˆ«ì ì¤‘ `M`ê°œë¥¼ ì„ íƒí•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ” **ëª¨ë“  ìˆ˜ì—´**ì„ ì¶œë ¥í•˜ë˜, **ì¤‘ë³µë˜ëŠ” ìˆ˜ì—´ì€ í•œ ë²ˆë§Œ ì¶œë ¥**

----------
````
import java.util.Arrays;

import java.util.LinkedHashSet;

import java.util.Scanner;

  

  

public  class NnM_09_ME {

static  int  N, M;

static  int[] number;

static  int[] anwser;

static  boolean[] visited;

static LinkedHashSet<String> ans;

  

public  static  void main(String[] args) {

Scanner sc = new Scanner(System.in);

N = sc.nextInt();

M = sc.nextInt();

number = new  int[N];

anwser = new  int[M];

visited = new  boolean[N];

ans = new LinkedHashSet<>();

for(int  i = 0; i < N; i++) {

number[i] = sc.nextInt();

}

Arrays.sort(number);

dfs(0);

ans.forEach(System.out::println);

}

static  void dfs(int  depth) {

if(depth == M) {

StringBuilder sb = new StringBuilder();

for(int  i= 0; i <M; i++) {

int  num = anwser[i];

sb.append(num).append(" ");

}

ans.add(sb.toString().trim());

return;

}

for(int  i = 0; i < N; i++) {

if(!visited[i]) {

visited[i] = true;

anwser[depth] = number[i];

dfs(depth + 1);

visited[i] = false;

}

}

}

  

}
````

- stringBuliderë¡œ ë‹¤ì‹œ ë°›ëŠ” ì´ìœ 
- ìˆ«ì ë°°ì—´ì„ ì§ì ‘ ì‚¬ìš©í•˜ì—¬ ìˆœì—´ì„ ê´€ë¦¬í•  ê²½ìš°, ë°°ì—´ì˜ ê° ìš”ì†Œê°€ ë©”ëª¨ë¦¬ ì£¼ì†Œì— ë”°ë¼ êµ¬ë¶„ë˜ë¯€ë¡œ, ìˆ«ì ë°°ì—´ì˜ ë‚´ìš©ì´ ë™ì¼í•´ë„ ë‹¤ë¥¸ ë°°ì—´ ê°ì²´ë¡œ ê°„ì£¼ë˜ì–´ ì¤‘ë³µ ì œê±°ê°€ ì–´ë ¤ì›Œì§. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ìˆœì—´ì„ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ë©´, ë™ì¼í•œ ìˆ«ì ì¡°í•©ì€ ë™ì¼í•œ ë¬¸ìì—´ë¡œ ë³€í™˜ë˜ì–´ `HashSet`ì„ í†µí•œ ì¤‘ë³µ ì œê±°ê°€ íš¨ê³¼ì .

### ì˜ˆì‹œ ì„¤ëª…

ì˜ˆë¥¼ ë“¤ì–´, ìˆœì—´ [1, 2]ì™€ [1, 2]ê°€ ìˆì„ ë•Œ, ë‘ ìˆœì—´ì´ ë°°ì—´ í˜•íƒœë¡œ ì €ì¥ë˜ë©´, ë‘ ë°°ì—´ì€ ê°ê° ë‹¤ë¥¸ ê°ì²´ë¡œ ì¸ì‹ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë¬¸ìì—´ë¡œ ë³€í™˜ëœ "1 2"ëŠ” ë™ì¼í•œ ë¬¸ìì—´ë¡œ ì¸ì‹ë˜ì–´ `HashSet`ì—ì„œ ìë™ìœ¼ë¡œ ì¤‘ë³µì´ ì œê±°.

- sbì˜ ìƒíƒœëŠ” "1 9 " <- 9 ë’¤ì— ë„ì–´ì“°ê¸°ê°€ í•œ ì¹¸ ìˆìŒ. 

- ans.add(sb.toString().trim()) â†’ ansì— "1 9" ì¶”ê°€

- trim()ì„ ì‚¬ìš©í•˜ì—¬ ê³µë°± ì œê±° 

## **1ï¸âƒ£ ì½”ë“œ ì„¤ê³„ ë°©ì‹**

### **âœ… ì…ë ¥ ì²˜ë¦¬ ë° ê¸°ë³¸ ì„¤ì •**
````

`static int N, M;
static int[] number;   // ì…ë ¥ë°›ì€ ìˆ«ì ë°°ì—´
static int[] anwser;   // í˜„ì¬ ì„ íƒëœ ìˆ˜ì—´
static boolean[] visited;  // ì¤‘ë³µ ë°©ë¬¸ ë°©ì§€ìš© ë°°ì—´
static LinkedHashSet<String> ans;  // ì¤‘ë³µ ìˆ˜ì—´ ë°©ì§€ìš© Set` 

-   `number`: **ì‚¬ìš©í•  ìˆ«ì ë°°ì—´**
-   `anwser`: **í˜„ì¬ DFS íƒìƒ‰ ì¤‘ ì €ì¥í•˜ëŠ” ìˆ˜ì—´**
-   `visited`: **DFS ë°©ë¬¸ ì²´í¬ ë°°ì—´**
-   `ans`: **ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•´ `LinkedHashSet` ì‚¬ìš©**  
    â†’ **`Set`ì„ ì‚¬ìš©í•˜ë©´ ê°™ì€ ë‚´ìš©ì˜ ìˆ˜ì—´ì„ í•œ ë²ˆë§Œ ì €ì¥í•  ìˆ˜ ìˆìŒ.** â†’ **`LinkedHashSet`ì„ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ ìˆœì„œëŒ€ë¡œ ì €ì¥ë¨.**

````
----------

## **2ï¸âƒ£ ë°±íŠ¸ë˜í‚¹ (DFS) ìˆ˜í–‰**


````
`static void dfs(int depth) {
    if (depth == M) {  // Mê°œ ì„ íƒ ì™„ë£Œ
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < M; i++) {
            sb.append(anwser[i]).append(" ");
        }
        ans.add(sb.toString().trim()); // ì¤‘ë³µ ë°©ì§€ë¥¼ ìœ„í•´ Setì— ì €ì¥
        return;
    }

    for (int i = 0; i < N; i++) {
        if (!visited[i]) {
            visited[i] = true;
            anwser[depth] = number[i];
            dfs(depth + 1);
            visited[i] = false; // ë°±íŠ¸ë˜í‚¹ (ì›ìƒë³µêµ¬)
        }
    }
}` 
````

### **ë°±íŠ¸ë˜í‚¹ íƒìƒ‰ ê³¼ì •**

-   `depth == M`ì´ë©´ **ì™„ì„±ëœ ìˆ˜ì—´ì„ `Set`ì— ì¶”ê°€**
-   `for`ë¬¸ì„ í†µí•´ **ëª¨ë“  ìˆ«ì íƒìƒ‰**
    -   `visited[i] = true` â†’ **ì„ íƒí•œ ìˆ«ìë¥¼ ë°©ë¬¸ ì²´í¬**
    -   `dfs(depth + 1)` â†’ **ë‹¤ìŒ ìˆ«ì ì„ íƒ ì§„í–‰**
    -   `visited[i] = false` â†’ **ë°±íŠ¸ë˜í‚¹ (ì„ íƒ ì·¨ì†Œ í›„ ë³µêµ¬)**

----------

## **3ï¸âƒ£ ì¤‘ë³µ ì œê±° (`LinkedHashSet` í™œìš©)**



`ans = new LinkedHashSet<>();` 

-   ê°™ì€ ìˆ«ìë¡œ ì´ë£¨ì–´ì§„ **ì¤‘ë³µ ìˆ˜ì—´ì„ ì €ì¥í•˜ì§€ ì•Šë„ë¡ `Set`ì„ ì‚¬ìš©**.
-   **`LinkedHashSet`ì„ ì‚¬ìš©í•˜ì—¬ `ìˆœì„œë¥¼ ìœ ì§€`**í•˜ë©´ì„œ ì¤‘ë³µì„ ìë™ìœ¼ë¡œ ì œê±°.

----------

## **4ï¸âƒ£ ì‹œê°„ ë³µì¡ë„ ë¶„ì„**

ì‹œê°„ ë³µì¡ë„ ìµœì•…ì˜ ê²½ìš° **O(N!)** 

### **ì´ìœ  ë¶„ì„**

- ìˆ˜ì—´ì„ ëª¨ë‘ êµ¬í•˜ê³  hashsetì˜ íŠ¹ì„±ì„ ì´ìš©í•´ì„œ ì¤‘ë³µì„ ì œê±°í•˜ê¸° ë•Œë¬¸!

-   `N`ê°œì˜ ìˆ«ì ì¤‘ `M`ê°œë¥¼ ì„ íƒí•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜  
    â†’ **`N! / (N-M)!` (ìˆœì—´ ê³µì‹)**
-   íƒìƒ‰ ê³¼ì •ì—ì„œ `Set`ì„ ì‚¬ìš©í•˜ì—¬ **ì¤‘ë³µì„ ì œê±°**í•˜ì§€ë§Œ, ìµœì•…ì˜ ê²½ìš°ì—ë„ `O(N!)`ì— ê°€ê¹Œìš´ ì‹œê°„ì´ ì†Œìš”ë¨.

### **ì˜ˆì œ ì‹¤í–‰ ì‹œ ì—°ì‚°ëŸ‰**

-   `N = 4, M = 2` â†’ ìµœëŒ€ `4P2 = 4! / 2! = 12` ê°œì˜ ìˆ˜ì—´ íƒìƒ‰
-   `N = 8, M = 4` â†’ ìµœëŒ€ `8P4 = 8! / 4! = 1680` ê°œ íƒìƒ‰



## ğŸ”¹ ì •ë¦¬

| **ì„¤ê³„ ìš”ì†Œ** | **ì„¤ëª…** |
|--------------|----------------------------------------------|
| **ì…ë ¥ ë°ì´í„°** | `N`ê°œì˜ ìˆ˜ ì¤‘ `M`ê°œë¥¼ ì„ íƒí•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ìˆœì—´ ìƒì„± |
| **ì¤‘ë³µ ì œê±° ë°©ì‹** | `LinkedHashSet<String>`ì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µëœ ìˆ˜ì—´ ë°©ì§€ |
| **ë°±íŠ¸ë˜í‚¹ ë™ì‘** | `visited[]` ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬ ìˆ«ì ì¤‘ë³µ ì‚¬ìš© ë°©ì§€ |
| **ì í™”ì‹** | `dfs(depth) â†’ dfs(depth + 1)` (ì¬ê·€ í˜¸ì¶œ) |
| **ì‹œê°„ ë³µì¡ë„** | `O(N!)` (ìµœì•…ì˜ ê²½ìš°) |
| **ê³µê°„ ë³µì¡ë„** | `O(N + M + P)` (ì…ë ¥ ë°°ì—´, ë°©ë¬¸ ë°°ì—´, ê²°ê³¼ ì €ì¥) |
| **ìµœì í™” ì—¬ë¶€** | ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ ì¤„ì´ê¸° ìœ„í•´ ì •ë ¬ í›„ íƒìƒ‰ (ì •ë ¬: O(N log N)) |
